(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(32),s=a.n(l),r=a(5),o=function(){return i.a.createElement(r.Row,null,i.a.createElement(r.Navbar,{brand:"ABCVideo",right:!0}))},c=a(10),p=a(11),u=a(13),m=a(12),h=a(14),d=a(3),b=a(33),y=a(34),v=a.n(y),f=a(21),g=a(20),j=a.n(g),O=a(35),E=a.n(O);j.a.globalMoment=E.a;var w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).interval=null,a.state={playing:!1,time:0,interval:null,paused:!1},a.playStopSound=a.playStopSound.bind(Object(d.a)(Object(d.a)(a))),window.eventEmitter.addListener("endSound",a.onEndSound.bind(Object(d.a)(Object(d.a)(a)))),a.addTime=a.addTime.bind(Object(d.a)(Object(d.a)(a))),a.resetTime=a.resetTime.bind(Object(d.a)(Object(d.a)(a))),a.startTime=a.startTime.bind(Object(d.a)(Object(d.a)(a))),a.pauseTime=a.pauseTime.bind(Object(d.a)(Object(d.a)(a))),a.pauseToggle=a.pauseToggle.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"addTime",value:function(){this.setState({time:this.state.time+1})}},{key:"startTime",value:function(){this.interval=setInterval(this.addTime,1e3)}},{key:"pauseTime",value:function(){clearInterval(this.interval)}},{key:"resetTime",value:function(){console.log(this.state),this.setState({time:0}),clearInterval(this.interval)}},{key:"onEndSound",value:function(e){e===this.props.file&&(this.setState({playing:!1}),this.resetTime())}},{key:"playStopSound",value:function(){this.state.playing?(window.panelController.cancel(this.props.file),this.setState({playing:!1}),this.resetTime()):(window.panelController.play(this.props.file),this.setState({playing:!0}),this.startTime())}},{key:"pauseToggle",value:function(){this.state.playing&&(this.state.paused?(window.panelController.resume(this.props.file),this.setState({paused:!1}),this.startTime()):(window.panelController.pause(this.props.file),this.setState({paused:!0}),this.pauseTime()))}},{key:"render",value:function(){var e=i.a.createElement("div",{className:"empty-led"});this.state.playing&&(e=i.a.createElement("p",{className:"led"},i.a.createElement(j.a,{tz:"UTC",format:"HH:mm:ss",unix:!0},this.state.time)));var t=[i.a.createElement("a",{type:"button",onClick:this.playStopSound},this.state.playing?"Stop":"Play")];return this.state.playing&&t.push(i.a.createElement("a",{type:"button",onClick:this.pauseToggle},this.state.paused?"Resume":"Pause")),i.a.createElement(r.Card,{className:this.state.playing?"deep-orange":"",title:this.props.shortcut.toUpperCase(),actions:t},i.a.createElement("p",null,this.props.name),e,i.a.createElement(f.a,{keyName:this.props.shortcut,onKeyUp:this.playStopSound}),i.a.createElement(f.a,{keyName:"shift+".concat(this.props.shortcut),onKeyUp:this.pauseToggle}))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={items:[]},a.waitForPanelControllerIntetral=setInterval(a.checkPanelController.bind(Object(d.a)(Object(d.a)(a))),100),a.panelControllerDidApear=a.panelControllerDidApear.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"panelControllerDidApear",value:function(){var e=this;window.eventEmitter=new b.EventEmitter,v.a.get("/api/panels").then(function(t){return e.setState({items:t.data})})}},{key:"checkPanelController",value:function(){window.panelController&&(clearInterval(this.waitForPanelControllerIntetral),this.panelControllerDidApear())}},{key:"render",value:function(){return 0===this.state.items.length?i.a.createElement(r.Row,null,i.a.createElement(r.Col,{s:4,offset:"s6"},i.a.createElement(r.Preloader,{size:"big",flashing:!0}))):(console.log(this.state.items),i.a.createElement(r.Row,null,this.state.items.map(function(e){return i.a.createElement(r.Col,{s:2},i.a.createElement(w,e))})))}}]),t}(n.Component);s.a.render(i.a.createElement(function(){return i.a.createElement("div",null,i.a.createElement(o,null),i.a.createElement(T,null))},null),document.querySelector("#container"))},36:function(e,t,a){e.exports=a(112)}},[[36,2,1]]]);
//# sourceMappingURL=main.8cfb7f26.chunk.js.map